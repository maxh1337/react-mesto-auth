{"ast":null,"code":"var _jsxFileName = \"C:\\\\PET Projects\\\\\\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u044B\\u0435\\\\react-mesto-auth\\\\front\\\\src\\\\components\\\\Profile\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { $api } from '../../api/api';\nimport EditUserPhotoPopup from '../Popups/EditUserPhotoPopup/EditUserPhotoPopup';\nimport EditUserPopup from '../Popups/EditUserPopup/EditUserPopup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Profile = _ref => {\n  _s();\n  let {\n    onEditAvatar,\n    onEditProfile,\n    onAddPlace,\n    isEditPhotoPopupOpened,\n    closeAllPopups,\n    isEditProfilePopupOpened\n  } = _ref;\n  const {\n    data,\n    refetch,\n    isSuccess\n  } = useQuery(['Get Profile info'], () => $api({\n    url: '/users/profile'\n  }), {\n    onSuccess(data) {\n      setDat(data);\n    },\n    refetchOnWindowFocus: false\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"profile\",\n      children: isSuccess && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onEditAvatar,\n          type: \"button\",\n          className: \"profile__avatar-container\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\",\n            className: \"profile__avatar\",\n            src: data.logo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile__info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"profile__name\",\n            children: data.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"profile__description\",\n            children: data.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onEditProfile,\n            type: \"button\",\n            className: \"profile__edit-button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onAddPlace,\n          type: \"button\",\n          className: \"profile__add-button\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(EditUserPhotoPopup, {\n      isVisible: isEditPhotoPopupOpened,\n      onClick: closeAllPopups,\n      refetch: refetch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(EditUserPopup, {\n      isVisible: isEditProfilePopupOpened,\n      onClick: closeAllPopups,\n      refetch: refetch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n_s(Profile, \"gp4VbUQVR3Ont0rkr29su3wRrDU=\", false, function () {\n  return [useQuery];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useQuery","$api","EditUserPhotoPopup","EditUserPopup","Profile","onEditAvatar","onEditProfile","onAddPlace","isEditPhotoPopupOpened","closeAllPopups","isEditProfilePopupOpened","data","refetch","isSuccess","url","onSuccess","setDat","refetchOnWindowFocus","logo","name","description"],"sources":["C:/PET Projects/Курсовые/react-mesto-auth/front/src/components/Profile/Profile.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useQuery } from 'react-query'\r\nimport { $api } from '../../api/api'\r\nimport EditUserPhotoPopup from '../Popups/EditUserPhotoPopup/EditUserPhotoPopup'\r\nimport EditUserPopup from '../Popups/EditUserPopup/EditUserPopup'\r\n\r\nconst Profile = ({\r\n\tonEditAvatar,\r\n\tonEditProfile,\r\n\tonAddPlace,\r\n\tisEditPhotoPopupOpened,\r\n\tcloseAllPopups,\r\n\tisEditProfilePopupOpened,\r\n}) => {\r\n\tconst { data, refetch, isSuccess } = useQuery(\r\n\t\t['Get Profile info'],\r\n\t\t() =>\r\n\t\t\t$api({\r\n\t\t\t\turl: '/users/profile',\r\n\t\t\t}),\r\n\t\t{\r\n\t\t\tonSuccess(data) {\r\n\t\t\t\tsetDat(data)\r\n\t\t\t},\r\n\t\t\trefetchOnWindowFocus: false,\r\n\t\t}\r\n\t)\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<section className=\"profile\">\r\n                {isSuccess && \r\n                <>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={onEditAvatar}\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclassName=\"profile__avatar-container\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<img alt=\"Аватар\" className=\"profile__avatar\" src={data.logo} />\r\n\t\t\t\t</button>\r\n\t\t\t\t<div className=\"profile__info\">\r\n\t\t\t\t\t<h1 className=\"profile__name\">{data.name}</h1>\r\n\t\t\t\t\t<p className=\"profile__description\">{data.description}</p>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={onEditProfile}\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclassName=\"profile__edit-button\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={onAddPlace}\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclassName=\"profile__add-button\"\r\n\t\t\t\t/>\r\n                </>\r\n            }\r\n\t\t\t</section>\r\n\t\t\t<EditUserPhotoPopup\r\n\t\t\t\tisVisible={isEditPhotoPopupOpened}\r\n\t\t\t\tonClick={closeAllPopups}\r\n\t\t\t\trefetch={refetch}\r\n\t\t\t/>\r\n\t\t\t<EditUserPopup\r\n\t\t\t\tisVisible={isEditProfilePopupOpened}\r\n\t\t\t\tonClick={closeAllPopups}\r\n\t\t\t\trefetch={refetch}\r\n\t\t\t/>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default Profile\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,QAAQ,QAAQ,aAAa;AACtC,SAASC,IAAI,QAAQ,eAAe;AACpC,OAAOC,kBAAkB,MAAM,iDAAiD;AAChF,OAAOC,aAAa,MAAM,uCAAuC;AAAA;AAAA;AAEjE,MAAMC,OAAO,GAAG,QAOV;EAAA;EAAA,IAPW;IAChBC,YAAY;IACZC,aAAa;IACbC,UAAU;IACVC,sBAAsB;IACtBC,cAAc;IACdC;EACD,CAAC;EACA,MAAM;IAAEC,IAAI;IAAEC,OAAO;IAAEC;EAAU,CAAC,GAAGb,QAAQ,CAC5C,CAAC,kBAAkB,CAAC,EACpB,MACCC,IAAI,CAAC;IACJa,GAAG,EAAE;EACN,CAAC,CAAC,EACH;IACCC,SAAS,CAACJ,IAAI,EAAE;MACfK,MAAM,CAACL,IAAI,CAAC;IACb,CAAC;IACDM,oBAAoB,EAAE;EACvB,CAAC,CACD;EAED,oBACC;IAAA,wBACC;MAAS,SAAS,EAAC,SAAS;MAAA,UACdJ,SAAS,iBACV;QAAA,wBACZ;UACC,OAAO,EAAER,YAAa;UACtB,IAAI,EAAC,QAAQ;UACb,SAAS,EAAC,2BAA2B;UAAA,uBAErC;YAAK,GAAG,EAAC,sCAAQ;YAAC,SAAS,EAAC,iBAAiB;YAAC,GAAG,EAAEM,IAAI,CAACO;UAAK;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA,QACxD,eACT;UAAK,SAAS,EAAC,eAAe;UAAA,wBAC7B;YAAI,SAAS,EAAC,eAAe;YAAA,UAAEP,IAAI,CAACQ;UAAI;YAAA;YAAA;YAAA;UAAA,QAAM,eAC9C;YAAG,SAAS,EAAC,sBAAsB;YAAA,UAAER,IAAI,CAACS;UAAW;YAAA;YAAA;YAAA;UAAA,QAAK,eAC1D;YACC,OAAO,EAAEd,aAAc;YACvB,IAAI,EAAC,QAAQ;YACb,SAAS,EAAC;UAAsB;YAAA;YAAA;YAAA;UAAA,QAC/B;QAAA;UAAA;UAAA;UAAA;QAAA,QACG,eACN;UACC,OAAO,EAAEC,UAAW;UACpB,IAAI,EAAC,QAAQ;UACb,SAAS,EAAC;QAAqB;UAAA;UAAA;UAAA;QAAA,QAC9B;MAAA;IACa;MAAA;MAAA;MAAA;IAAA,QAEN,eACV,QAAC,kBAAkB;MAClB,SAAS,EAAEC,sBAAuB;MAClC,OAAO,EAAEC,cAAe;MACxB,OAAO,EAAEG;IAAQ;MAAA;MAAA;MAAA;IAAA,QAChB,eACF,QAAC,aAAa;MACb,SAAS,EAAEF,wBAAyB;MACpC,OAAO,EAAED,cAAe;MACxB,OAAO,EAAEG;IAAQ;MAAA;MAAA;MAAA;IAAA,QAChB;EAAA,gBACA;AAEL,CAAC;AAAA,GA/DKR,OAAO;EAAA,QAQyBJ,QAAQ;AAAA;AAAA,KARxCI,OAAO;AAiEb,eAAeA,OAAO;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}