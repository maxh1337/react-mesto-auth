{"ast":null,"code":"var _jsxFileName = \"C:\\\\PET Projects\\\\\\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u044B\\u0435\\\\react-mesto-auth\\\\src\\\\components\\\\oldComponents\\\\Card.jsx\",\n  _s = $RefreshSig$();\nimport { memo } from 'react';\nimport { useCurrentUser } from '../contexts/CurrentUserContext';\nimport checkImageLoading from '../../utils/checkImageLoading';\nimport { classNames } from '../utils/toClassNames';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Card = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(_ref => {\n  var _card$likes;\n  _s();\n  let {\n    card,\n    ...props\n  } = _ref;\n  card.likes = (_card$likes = card.likes) !== null && _card$likes !== void 0 ? _card$likes : [];\n  const currentUser = useCurrentUser();\n  if (card.isTemporarilyLocal) {\n    card.owner = currentUser;\n  }\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  function handleImageClick(e) {\n    if (checkImageLoading(e.target)) {\n      // UX - this makes user unable to open an unloaded image\n      props.onCardClick(card);\n    }\n  }\n  function handleImageError(e) {\n    // UI for images that failed to load\n    e.target.style.cursor = 'default';\n    e.target.title = `Failed to load image: \"${card.name}\"`;\n  }\n  function handleLikeClick() {\n    if (card.isTemporarilyLocal) return;\n    props.onCardLike(card);\n  }\n  function handleDeleteClick() {\n    if (card.isTemporarilyLocal) return;\n    props.onCardDelete(card);\n  }\n  const authorInfo = `Автор: ${card.owner.name} · ${card.owner.about}`;\n  const authorInfoDev = `${authorInfo}\\n\\n#${card.owner._id}\\n${card.owner.avatar}`;\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    ...classNames(['element', card.isTemporarilyLocal && 'element_appearing']),\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      onError: handleImageError,\n      onClick: handleImageClick,\n      className: \"element__image\",\n      alt: card.name,\n      src: card.link\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), isOwn && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDeleteClick,\n      type: \"reset\",\n      className: \"element__trash-button\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"element__container\",\n      title: authorInfo,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"element__title\",\n        children: card.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"element__likes\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          checked: isLiked,\n          type: \"checkbox\",\n          onChange: handleLikeClick,\n          className: \"element__like-button\",\n          title: authorInfoDev\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"element__like-counter\",\n          children: card.likes.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}, \"fds7nphu8utUA6vXZ6pm2+I3m+M=\", false, function () {\n  return [useCurrentUser];\n})), \"fds7nphu8utUA6vXZ6pm2+I3m+M=\", false, function () {\n  return [useCurrentUser];\n});\n_c2 = Card;\nexport default Card;\nvar _c, _c2;\n$RefreshReg$(_c, \"Card$memo\");\n$RefreshReg$(_c2, \"Card\");","map":{"version":3,"names":["memo","useCurrentUser","checkImageLoading","classNames","Card","card","props","likes","currentUser","isTemporarilyLocal","owner","isOwn","_id","isLiked","some","i","handleImageClick","e","target","onCardClick","handleImageError","style","cursor","title","name","handleLikeClick","onCardLike","handleDeleteClick","onCardDelete","authorInfo","about","authorInfoDev","avatar","link","length"],"sources":["C:/PET Projects/Курсовые/react-mesto-auth/src/components/oldComponents/Card.jsx"],"sourcesContent":["import { memo } from 'react';\r\n\r\nimport { useCurrentUser } from '../contexts/CurrentUserContext';\r\nimport checkImageLoading from '../../utils/checkImageLoading';\r\nimport { classNames } from '../utils/toClassNames';\r\n\r\nconst Card = memo(({ card, ...props }) => {\r\n  card.likes = card.likes ?? [];\r\n\r\n  const currentUser = useCurrentUser();\r\n\r\n  if (card.isTemporarilyLocal) {\r\n    card.owner = currentUser;\r\n  }\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  function handleImageClick(e) {\r\n    if (checkImageLoading(e.target)) {\r\n      // UX - this makes user unable to open an unloaded image\r\n      props.onCardClick(card);\r\n    }\r\n  }\r\n  function handleImageError(e) {\r\n    // UI for images that failed to load\r\n    e.target.style.cursor = 'default';\r\n    e.target.title = `Failed to load image: \"${card.name}\"`;\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    if (card.isTemporarilyLocal) return;\r\n    props.onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    if (card.isTemporarilyLocal) return;\r\n    props.onCardDelete(card);\r\n  }\r\n\r\n  const authorInfo = `Автор: ${card.owner.name} · ${card.owner.about}`;\r\n  const authorInfoDev = `${authorInfo}\\n\\n#${card.owner._id}\\n${card.owner.avatar}`;\r\n\r\n  return (\r\n    <li {...classNames(['element', card.isTemporarilyLocal && 'element_appearing'])}>\r\n      <img\r\n        onError={handleImageError}\r\n        onClick={handleImageClick}\r\n        className=\"element__image\"\r\n        alt={card.name}\r\n        src={card.link}\r\n      />\r\n      {isOwn && (\r\n        <button onClick={handleDeleteClick} type=\"reset\" className=\"element__trash-button\" />\r\n      )}\r\n      <div className=\"element__container\" title={authorInfo}>\r\n        <h2 className=\"element__title\">{card.name}</h2>\r\n        <div className=\"element__likes\">\r\n          <input\r\n            checked={isLiked}\r\n            type=\"checkbox\"\r\n            onChange={handleLikeClick}\r\n            className=\"element__like-button\"\r\n            title={authorInfoDev}\r\n          />\r\n          <p className=\"element__like-counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n});\r\n\r\nexport default Card;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}