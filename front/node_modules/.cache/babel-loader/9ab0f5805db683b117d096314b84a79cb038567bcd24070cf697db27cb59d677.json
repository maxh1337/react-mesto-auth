{"ast":null,"code":"var _jsxFileName = \"C:\\\\PET Projects\\\\\\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u044B\\u0435\\\\react-mesto-auth\\\\src\\\\components\\\\oldComponents\\\\EditProfilePopup.jsx\",\n  _s = $RefreshSig$();\nimport { memo, useEffect } from 'react';\nimport { useCurrentUser, useCurrentUserDispatcher, sendApiUpdate } from '../contexts/CurrentUserContext';\nimport useValidatedForm from '../../hooks/useValidatedForm';\nimport PopupWithForm from './PopupWithForm';\nimport FormInput from './FormInput';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditProfilePopup = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(props => {\n  _s();\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useCurrentUserDispatcher();\n  const {\n    reset,\n    ...form\n  } = useValidatedForm(currentUser);\n  useEffect(() => {\n    if (!props.isOpen) {\n      reset();\n    }\n  }, [props.isOpen, reset]);\n  async function handleSubmit() {\n    const res = await sendApiUpdate(setCurrentUser, currentUser, form.getData(), 'editProfile');\n    props.onUpdateUser();\n    return res;\n  }\n  return /*#__PURE__*/_jsxDEV(PopupWithForm, {\n    ...props,\n    onSubmit: handleSubmit,\n    title: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",\n    name: \"profile-editor\",\n    isSubmitDisabled: form.isInvalid,\n    children: [/*#__PURE__*/_jsxDEV(FormInput, {\n      isFocused: props.isOpen,\n      ...form.register('name'),\n      autoComplete: \"name\",\n      autoCapitalize: \"words\",\n      id: \"profile-name\",\n      placeholder: \"\\u0418\\u043C\\u044F\",\n      maxLength: \"40\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n      ...form.register('about'),\n      id: \"profile-about\",\n      placeholder: \"\\u041E \\u0441\\u0435\\u0431\\u0435\",\n      maxLength: \"200\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}, \"qZjgl0ym+AlwZEsNQ0s6jwKFO1s=\", false, function () {\n  return [useCurrentUser, useCurrentUserDispatcher, useValidatedForm];\n})), \"qZjgl0ym+AlwZEsNQ0s6jwKFO1s=\", false, function () {\n  return [useCurrentUser, useCurrentUserDispatcher, useValidatedForm];\n});\n_c2 = EditProfilePopup;\nexport default EditProfilePopup;\nvar _c, _c2;\n$RefreshReg$(_c, \"EditProfilePopup$memo\");\n$RefreshReg$(_c2, \"EditProfilePopup\");","map":{"version":3,"names":["memo","useEffect","useCurrentUser","useCurrentUserDispatcher","sendApiUpdate","useValidatedForm","PopupWithForm","FormInput","EditProfilePopup","props","currentUser","setCurrentUser","reset","form","isOpen","handleSubmit","res","getData","onUpdateUser","isInvalid","register"],"sources":["C:/PET Projects/Курсовые/react-mesto-auth/src/components/oldComponents/EditProfilePopup.jsx"],"sourcesContent":["import { memo, useEffect } from 'react';\r\n\r\nimport {\r\n  useCurrentUser,\r\n  useCurrentUserDispatcher,\r\n  sendApiUpdate,\r\n} from '../contexts/CurrentUserContext';\r\n\r\nimport useValidatedForm from '../../hooks/useValidatedForm';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\nimport FormInput from './FormInput';\r\n\r\nconst EditProfilePopup = memo((props) => {\r\n  const currentUser = useCurrentUser();\r\n  const setCurrentUser = useCurrentUserDispatcher();\r\n\r\n  const { reset, ...form } = useValidatedForm(currentUser);\r\n\r\n  useEffect(() => {\r\n    if (!props.isOpen) {\r\n      reset();\r\n    }\r\n  }, [props.isOpen, reset]);\r\n\r\n  async function handleSubmit() {\r\n    const res = await sendApiUpdate(setCurrentUser, currentUser, form.getData(), 'editProfile');\r\n    props.onUpdateUser();\r\n    return res;\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      {...props}\r\n      onSubmit={handleSubmit}\r\n      title=\"Редактировать профиль\"\r\n      name=\"profile-editor\"\r\n      isSubmitDisabled={form.isInvalid}\r\n    >\r\n      <FormInput\r\n        isFocused={props.isOpen}\r\n        {...form.register('name')}\r\n        autoComplete=\"name\"\r\n        autoCapitalize=\"words\"\r\n        id=\"profile-name\"\r\n        placeholder=\"Имя\"\r\n        maxLength=\"40\"\r\n      />\r\n\r\n      <FormInput\r\n        {...form.register('about')}\r\n        id=\"profile-about\"\r\n        placeholder=\"О себе\"\r\n        maxLength=\"200\"\r\n      />\r\n    </PopupWithForm>\r\n  );\r\n});\r\n\r\nexport default EditProfilePopup;\r\n"],"mappings":";;AAAA,SAASA,IAAI,EAAEC,SAAS,QAAQ,OAAO;AAEvC,SACEC,cAAc,EACdC,wBAAwB,EACxBC,aAAa,QACR,gCAAgC;AAEvC,OAAOC,gBAAgB,MAAM,8BAA8B;AAE3D,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,SAAS,MAAM,aAAa;AAAC;AAEpC,MAAMC,gBAAgB,iCAAGR,IAAI,SAAES,KAAK,IAAK;EAAA;EACvC,MAAMC,WAAW,GAAGR,cAAc,EAAE;EACpC,MAAMS,cAAc,GAAGR,wBAAwB,EAAE;EAEjD,MAAM;IAAES,KAAK;IAAE,GAAGC;EAAK,CAAC,GAAGR,gBAAgB,CAACK,WAAW,CAAC;EAExDT,SAAS,CAAC,MAAM;IACd,IAAI,CAACQ,KAAK,CAACK,MAAM,EAAE;MACjBF,KAAK,EAAE;IACT;EACF,CAAC,EAAE,CAACH,KAAK,CAACK,MAAM,EAAEF,KAAK,CAAC,CAAC;EAEzB,eAAeG,YAAY,GAAG;IAC5B,MAAMC,GAAG,GAAG,MAAMZ,aAAa,CAACO,cAAc,EAAED,WAAW,EAAEG,IAAI,CAACI,OAAO,EAAE,EAAE,aAAa,CAAC;IAC3FR,KAAK,CAACS,YAAY,EAAE;IACpB,OAAOF,GAAG;EACZ;EAEA,oBACE,QAAC,aAAa;IAAA,GACRP,KAAK;IACT,QAAQ,EAAEM,YAAa;IACvB,KAAK,EAAC,2HAAuB;IAC7B,IAAI,EAAC,gBAAgB;IACrB,gBAAgB,EAAEF,IAAI,CAACM,SAAU;IAAA,wBAEjC,QAAC,SAAS;MACR,SAAS,EAAEV,KAAK,CAACK,MAAO;MAAA,GACpBD,IAAI,CAACO,QAAQ,CAAC,MAAM,CAAC;MACzB,YAAY,EAAC,MAAM;MACnB,cAAc,EAAC,OAAO;MACtB,EAAE,EAAC,cAAc;MACjB,WAAW,EAAC,oBAAK;MACjB,SAAS,EAAC;IAAI;MAAA;MAAA;MAAA;IAAA,QACd,eAEF,QAAC,SAAS;MAAA,GACJP,IAAI,CAACO,QAAQ,CAAC,OAAO,CAAC;MAC1B,EAAE,EAAC,eAAe;MAClB,WAAW,EAAC,iCAAQ;MACpB,SAAS,EAAC;IAAK;MAAA;MAAA;MAAA;IAAA,QACf;EAAA;IAAA;IAAA;IAAA;EAAA,QACY;AAEpB,CAAC;EAAA,QA3CqBlB,cAAc,EACXC,wBAAwB,EAEpBE,gBAAgB;AAAA,GAwC3C;EAAA,QA3CoBH,cAAc,EACXC,wBAAwB,EAEpBE,gBAAgB;AAAA,EAwC3C;AAAC,MA5CGG,gBAAgB;AA8CtB,eAAeA,gBAAgB;AAAC;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}