{"ast":null,"code":"var _jsxFileName = \"C:\\\\PET Projects\\\\\\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u044B\\u0435\\\\react-mesto-auth\\\\front\\\\src\\\\components\\\\Main\\\\Main.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Profile from \"../Profile/Profile\";\nimport Cards from \"../Cards/Cards\";\nimport SingleCard from \"../Cards/SingleCard\";\nimport ImagePopup from \"../Popups/ImagePopup/ImagePopup\";\nimport EditUserPhotoPopup from \"../Popups/EditUserPhotoPopup/EditUserPhotoPopup\";\nimport EditUserPopup from \"../Popups/EditUserPopup/EditUserPopup\";\nimport AddCardPopup from \"../Popups/AddCardPopup/AddCardPopup\";\nimport { useQuery } from 'react-query';\nimport { $api } from '../../api/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Main = () => {\n  _s();\n  const [isPopupOpened, setIsPopupOpened] = useState(false);\n  const [isEditPhotoPopupOpened, setIsEditPhotoPopupOpened] = useState(false);\n  const [isEditProfilePopupOpened, setIsEditProfilePopupOpened] = useState(false);\n  const [isAddCardPopupOpened, setIsAddCardPopupOpened] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const {\n    data,\n    refetch,\n    isSuccess\n  } = useQuery([\"get cards\"], () => $api({\n    url: `/cards`\n  }), {\n    refetchOnWindowFocus: false\n  });\n  const closeAllPopups = () => {\n    setIsPopupOpened(false);\n    setIsEditPhotoPopupOpened(false);\n    setIsEditProfilePopupOpened(false);\n    setIsAddCardPopupOpened(false);\n  };\n  const handleDeleteClick = card => {\n    console.log(card);\n  };\n  const handleOnCardClick = card => {\n    setSelectedCard(card);\n    setIsPopupOpened(true);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(Profile, {\n        avatar: \"https://mobimg.b-cdn.net/v3/fetch/a5/a572284e28c5218a3ee631c937be827c.jpeg\",\n        name: \"\\u0414\\u0430\\u043D\\u0438\\u0438\\u043B\",\n        about: \"Drug addict\",\n        onEditAvatar: () => setIsEditPhotoPopupOpened(true),\n        onEditProfile: () => setIsEditProfilePopupOpened(true),\n        onAddPlace: () => setIsAddCardPopupOpened(true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), isSuccess && /*#__PURE__*/_jsxDEV(Cards, {\n        children: data.map((card, idx) => {\n          return /*#__PURE__*/_jsxDEV(SingleCard, {\n            name: card.name,\n            url: card.url,\n            onCardClick: () => handleOnCardClick(card),\n            handleDeleteClick: () => handleDeleteClick(card),\n            refetch: refetch\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ImagePopup, {\n      isVisible: isPopupOpened,\n      card: selectedCard,\n      onClick: closeAllPopups\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(EditUserPhotoPopup, {\n      isVisible: isEditPhotoPopupOpened,\n      onClick: closeAllPopups\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(EditUserPopup, {\n      isVisible: isEditProfilePopupOpened,\n      onClick: closeAllPopups\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(AddCardPopup, {\n      isVisible: isAddCardPopupOpened,\n      onClick: closeAllPopups\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(Main, \"bAZPi/sMnThIlTf8sZCubC9BcO4=\", false, function () {\n  return [useQuery];\n});\n_c = Main;\nexport default Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","Profile","Cards","SingleCard","ImagePopup","EditUserPhotoPopup","EditUserPopup","AddCardPopup","useQuery","$api","Main","isPopupOpened","setIsPopupOpened","isEditPhotoPopupOpened","setIsEditPhotoPopupOpened","isEditProfilePopupOpened","setIsEditProfilePopupOpened","isAddCardPopupOpened","setIsAddCardPopupOpened","selectedCard","setSelectedCard","data","refetch","isSuccess","url","refetchOnWindowFocus","closeAllPopups","handleDeleteClick","card","console","log","handleOnCardClick","map","idx","name"],"sources":["C:/PET Projects/Курсовые/react-mesto-auth/front/src/components/Main/Main.jsx"],"sourcesContent":["import React, {useState} from 'react';\r\nimport Profile from \"../Profile/Profile\";\r\nimport Cards from \"../Cards/Cards\";\r\nimport SingleCard from \"../Cards/SingleCard\";\r\nimport ImagePopup from \"../Popups/ImagePopup/ImagePopup\";\r\nimport EditUserPhotoPopup from \"../Popups/EditUserPhotoPopup/EditUserPhotoPopup\";\r\nimport EditUserPopup from \"../Popups/EditUserPopup/EditUserPopup\";\r\nimport AddCardPopup from \"../Popups/AddCardPopup/AddCardPopup\";\r\nimport { useQuery } from 'react-query'\r\nimport { $api } from '../../api/api';\r\n\r\nconst Main = () => {\r\n    const [isPopupOpened, setIsPopupOpened] = useState(false)\r\n    const [isEditPhotoPopupOpened, setIsEditPhotoPopupOpened] = useState(false)\r\n    const [isEditProfilePopupOpened, setIsEditProfilePopupOpened] = useState(false)\r\n    const [isAddCardPopupOpened, setIsAddCardPopupOpened] = useState(false)\r\n    const [selectedCard, setSelectedCard] = useState({})\r\n\r\n    const {data, refetch, isSuccess} = useQuery(\r\n        [\"get cards\"],\r\n        () => \r\n          $api({\r\n            url: `/cards`\r\n          }),\r\n          {\r\n            refetchOnWindowFocus: false,\r\n          }\r\n    )\r\n\r\n    const closeAllPopups = () => {\r\n        setIsPopupOpened(false)\r\n        setIsEditPhotoPopupOpened(false)\r\n        setIsEditProfilePopupOpened(false)\r\n        setIsAddCardPopupOpened(false)\r\n    }\r\n\r\n    const handleDeleteClick = (card) => {\r\n        console.log(card)\r\n    }\r\n\r\n\r\n    const handleOnCardClick = (card) => {\r\n        setSelectedCard(card)\r\n        setIsPopupOpened(true)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"content\">\r\n                <Profile avatar='https://mobimg.b-cdn.net/v3/fetch/a5/a572284e28c5218a3ee631c937be827c.jpeg'\r\n                         name='Даниил'\r\n                         about='Drug addict'\r\n                         onEditAvatar={() => setIsEditPhotoPopupOpened(true)}\r\n                         onEditProfile={() => setIsEditProfilePopupOpened(true)}\r\n                         onAddPlace={() => setIsAddCardPopupOpened(true)}\r\n                />\r\n                {isSuccess &&\r\n                <Cards>\r\n                    {data.map((card, idx) => {\r\n                        return (\r\n                            <SingleCard name={card.name} url={card.url} key={idx}\r\n                                        onCardClick={() => handleOnCardClick(card)}\r\n                                        handleDeleteClick={() => handleDeleteClick(card)} refetch={refetch}/>\r\n                        )\r\n                    })}\r\n                </Cards>\r\n                }\r\n            </main>\r\n            <ImagePopup isVisible={isPopupOpened} card={selectedCard} onClick={closeAllPopups}/>\r\n            <EditUserPhotoPopup isVisible={isEditPhotoPopupOpened} onClick={closeAllPopups}/>\r\n            <EditUserPopup isVisible={isEditProfilePopupOpened} onClick={closeAllPopups}/>\r\n            <AddCardPopup isVisible={isAddCardPopupOpened} onClick={closeAllPopups}/>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Main;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}