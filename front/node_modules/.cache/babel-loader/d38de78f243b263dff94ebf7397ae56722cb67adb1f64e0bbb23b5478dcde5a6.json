{"ast":null,"code":"var _jsxFileName = \"C:\\\\PET Projects\\\\\\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u044B\\u0435\\\\react-mesto-auth\\\\src\\\\components\\\\oldComponents\\\\FormInput.jsx\",\n  _s = $RefreshSig$();\nimport { forwardRef, createRef, useEffect } from 'react';\nimport { formClassesConfig } from '../utils/utils';\nimport { classNames } from '../utils/toClassNames';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst defaults = {\n  type: 'text',\n  required: true,\n  minLength: 2\n};\nconst FormInput = /*#__PURE__*/_s( /*#__PURE__*/forwardRef(_c = _s((_ref, forwardedRef) => {\n  var _props$type, _props$required, _props$minLength;\n  _s();\n  let {\n    isFocused,\n    validationMessage,\n    ...props\n  } = _ref;\n  const ref = forwardedRef !== null && forwardedRef !== void 0 ? forwardedRef : /*#__PURE__*/createRef();\n  const type = (_props$type = props.type) !== null && _props$type !== void 0 ? _props$type : defaults.type;\n  const required = (_props$required = props.required) !== null && _props$required !== void 0 ? _props$required : defaults.required;\n  const conditionalMinLength = type === defaults.type ? defaults.minLength : null;\n  const minLength = (_props$minLength = props.minLength) !== null && _props$minLength !== void 0 ? _props$minLength : conditionalMinLength;\n  const finalProps = {\n    type,\n    minLength,\n    required,\n    ref\n  };\n  useEffect(() => {\n    if (isFocused && ref && ref.current && ref.current.parentElement !== document.activeElement.parentElement) {\n      setTimeout(() => {\n        ref && ref.current && ref.current.focus();\n      }, 50);\n    }\n  }, [isFocused, ref]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      ...props,\n      ...classNames([formClassesConfig.inputClass, validationMessage && 'form__input_type_error', props.className]),\n      ...finalProps\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      ...classNames(['form__error', validationMessage && 'form__error_visible']),\n      id: `${props.id}-error`,\n      children: validationMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}, \"OD7bBpZva5O2jO+Puf00hKivP7c=\")), \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c2 = FormInput;\nexport default FormInput;\nvar _c, _c2;\n$RefreshReg$(_c, \"FormInput$forwardRef\");\n$RefreshReg$(_c2, \"FormInput\");","map":{"version":3,"names":["forwardRef","createRef","useEffect","formClassesConfig","classNames","defaults","type","required","minLength","FormInput","forwardedRef","isFocused","validationMessage","props","ref","conditionalMinLength","finalProps","current","parentElement","document","activeElement","setTimeout","focus","inputClass","className","id"],"sources":["C:/PET Projects/Курсовые/react-mesto-auth/src/components/oldComponents/FormInput.jsx"],"sourcesContent":["import { forwardRef, createRef, useEffect } from 'react';\r\n\r\nimport { formClassesConfig } from '../utils/utils';\r\nimport { classNames } from '../utils/toClassNames';\r\n\r\nconst defaults = {\r\n  type: 'text',\r\n  required: true,\r\n  minLength: 2,\r\n};\r\n\r\nconst FormInput = forwardRef(({ isFocused, validationMessage, ...props }, forwardedRef) => {\r\n  const ref = forwardedRef ?? createRef();\r\n\r\n  const type = props.type ?? defaults.type;\r\n\r\n  const required = props.required ?? defaults.required;\r\n\r\n  const conditionalMinLength = type === defaults.type ? defaults.minLength : null;\r\n  const minLength = props.minLength ?? conditionalMinLength;\r\n\r\n  const finalProps = {\r\n    type,\r\n    minLength,\r\n    required,\r\n    ref,\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (\r\n      isFocused &&\r\n      ref &&\r\n      ref.current &&\r\n      ref.current.parentElement !== document.activeElement.parentElement\r\n    ) {\r\n      setTimeout(() => {\r\n        ref && ref.current && ref.current.focus();\r\n      }, 50);\r\n    }\r\n  }, [isFocused, ref]);\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        {...props}\r\n        {...classNames([\r\n          formClassesConfig.inputClass,\r\n          validationMessage && 'form__input_type_error',\r\n          props.className,\r\n        ])}\r\n        {...finalProps}\r\n      />\r\n      <p\r\n        {...classNames(['form__error', validationMessage && 'form__error_visible'])}\r\n        id={`${props.id}-error`}\r\n      >\r\n        {validationMessage}\r\n      </p>\r\n    </>\r\n  );\r\n});\r\n\r\nexport default FormInput;\r\n"],"mappings":";;AAAA,SAASA,UAAU,EAAEC,SAAS,EAAEC,SAAS,QAAQ,OAAO;AAExD,SAASC,iBAAiB,QAAQ,gBAAgB;AAClD,SAASC,UAAU,QAAQ,uBAAuB;AAAC;AAAA;AAEnD,MAAMC,QAAQ,GAAG;EACfC,IAAI,EAAE,MAAM;EACZC,QAAQ,EAAE,IAAI;EACdC,SAAS,EAAE;AACb,CAAC;AAED,MAAMC,SAAS,iCAAGT,UAAU,SAAC,OAA6CU,YAAY,KAAK;EAAA;EAAA;EAAA,IAA7D;IAAEC,SAAS;IAAEC,iBAAiB;IAAE,GAAGC;EAAM,CAAC;EACtE,MAAMC,GAAG,GAAGJ,YAAY,aAAZA,YAAY,cAAZA,YAAY,gBAAIT,SAAS,EAAE;EAEvC,MAAMK,IAAI,kBAAGO,KAAK,CAACP,IAAI,qDAAID,QAAQ,CAACC,IAAI;EAExC,MAAMC,QAAQ,sBAAGM,KAAK,CAACN,QAAQ,6DAAIF,QAAQ,CAACE,QAAQ;EAEpD,MAAMQ,oBAAoB,GAAGT,IAAI,KAAKD,QAAQ,CAACC,IAAI,GAAGD,QAAQ,CAACG,SAAS,GAAG,IAAI;EAC/E,MAAMA,SAAS,uBAAGK,KAAK,CAACL,SAAS,+DAAIO,oBAAoB;EAEzD,MAAMC,UAAU,GAAG;IACjBV,IAAI;IACJE,SAAS;IACTD,QAAQ;IACRO;EACF,CAAC;EAEDZ,SAAS,CAAC,MAAM;IACd,IACES,SAAS,IACTG,GAAG,IACHA,GAAG,CAACG,OAAO,IACXH,GAAG,CAACG,OAAO,CAACC,aAAa,KAAKC,QAAQ,CAACC,aAAa,CAACF,aAAa,EAClE;MACAG,UAAU,CAAC,MAAM;QACfP,GAAG,IAAIA,GAAG,CAACG,OAAO,IAAIH,GAAG,CAACG,OAAO,CAACK,KAAK,EAAE;MAC3C,CAAC,EAAE,EAAE,CAAC;IACR;EACF,CAAC,EAAE,CAACX,SAAS,EAAEG,GAAG,CAAC,CAAC;EAEpB,oBACE;IAAA,wBACE;MAAA,GACMD,KAAK;MAAA,GACLT,UAAU,CAAC,CACbD,iBAAiB,CAACoB,UAAU,EAC5BX,iBAAiB,IAAI,wBAAwB,EAC7CC,KAAK,CAACW,SAAS,CAChB,CAAC;MAAA,GACER;IAAU;MAAA;MAAA;MAAA;IAAA,QACd,eACF;MAAA,GACMZ,UAAU,CAAC,CAAC,aAAa,EAAEQ,iBAAiB,IAAI,qBAAqB,CAAC,CAAC;MAC3E,EAAE,EAAG,GAAEC,KAAK,CAACY,EAAG,QAAQ;MAAA,UAEvBb;IAAiB;MAAA;MAAA;MAAA;IAAA,QAChB;EAAA,gBACH;AAEP,CAAC,kCAAC;AAAC,MAjDGH,SAAS;AAmDf,eAAeA,SAAS;AAAC;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}